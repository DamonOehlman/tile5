{% extends 'apidoc.html' %}

{% block title %}Tile5 API Documentation{% endblock %}

{% block api %}
<h1><a name="T5.Map">T5.Map</a></h1>

<p><em>extends:</em> <a href="src_js_core.js.html#T5">T5</a>.Tiler</p>

<p>The Map class is the entry point for creating a tiling map.  Creating a 
map is quite simple and requires two things to operate.  A containing HTML5 canvas
that will be used to display the map and a <a href="src_js_geo_mapprovider.js.html#T5.Geo.MapProvider">T5.Geo.MapProvider</a> that will populate 
the map.</p>

<h2>Example Usage: Creating a Map</h2>

<pre lang='javascript'>
// create the map
map = new <a href="src_js_geo_map.js.html#T5.Map">T5.Map</a>({
container: 'mapCanvas',
provider: new <a href="src_js_geo_core.js.html#T5.Geo">T5.Geo</a>.Decarta.MapProvider()
});
</pre>

<p>Like all View descendants the map supports features such as intertial scrolling and
the like and is configurable through implementing the COG.configurable interface. For 
more information on view level features check out the View documentation.</p>

<h2>Events</h2>

<h3>zoomLevelChange</h3>

<p>This event is triggered when the zoom level has been updated</p>

<pre>
map.bind('zoomLevelChange', function(evt, newZoomLevel) {
});
</pre>

<h2>Methods</h2>

<h3>getBoundingBox()</h3>

<p>Return a <a href="src_js_geo_core.js.html#T5.Geo.BoundingBox">T5.Geo.BoundingBox</a> for the current map view area</p>

<h3>getCenterPosition()`</h3>

<p>Return a <a href="src_js_geo_core.js.html#T5.GeoXY">T5.GeoXY</a> composite for the center position of the map</p>

<h3>gotoBounds(bounds, callback)</h3>

<p>Calculates the optimal display bounds for the specified <a href="src_js_geo_core.js.html#T5.Geo.BoundingBox">T5.Geo.BoundingBox</a> and
then goes to the center position and zoom level best suited.</p>

<h3>gotoPosition(position, newZoomLevel, callback)</h3>

<p>This function is used to tell the map to go to the specified position.  The 
newZoomLevel parameter is optional and updates the map zoom level if supplied.
An optional callback argument is provided to receieve a notification once
the position of the map has been updated.</p>

<h3>panToPosition(position, callback, easingFn)</h3>

<p>This method is used to tell the map to pan (not zoom) to the specified 
<a href="src_js_geo_core.js.html#T5.GeoXY">T5.GeoXY</a>.  An optional callback can be passed as the second
parameter to the function and this fires a notification once the map is
at the new specified position.  Additionally, an optional easingFn parameter
can be supplied if the pan operation should ease to the specified location 
rather than just shift immediately.  An easingDuration can also be supplied.</p>

<h3>syncXY(points)</h3>

<p>This function iterates through the specified vectors and if they are
of type GeoXY composite they are provided the rads per pixel of the
grid so they can perform their calculations</p>

<ul>
<li><code>locate()</code></li>
</ul>

<p>TODO</p>

<ul>
<li><code>trackStart(mode)</code></li>
</ul>

<p>TODO</p>

<ul>
<li><code>trackCancel()</code></li>
</ul>

<p>TODO</p>

<ul>
<li><code>animateRoute(easing, duration, callback, center)</code></li>
</ul>

<p>TODO</p>

{% endblock %}
