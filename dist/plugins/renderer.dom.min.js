T5.registerRenderer("dom",function(w,o,x,r){function s(g){g=g||[];for(var d=0;d<e.childNodes.length;){var a=e.childNodes[d],b=a.id.slice(t);if(T5.indexOf.call(g,b)<0){if(tile=p[b])tile.image=null;delete p[b];e.removeChild(a)}else d++}}var t=5,u=typeof o.style["-webkit-transform"]!="undefined",e=null,p={};e=document.createElement("div");e.id=COG.objId("domImages");e.style.cssText=COG.formatStr("position: absolute; overflow: hidden; width: {0}px; height: {1}px;",o.offsetWidth,o.offsetHeight);o.insertBefore(e,
r.interactTarget);return COG.extend(r,{preventPartialScale:true,drawTiles:function(g,d){var a,b,q=g.scaleFactor,h,i,j,k,f,c;c=a=0;var m,n,l;l=[];for(c=d.length;c--;){a=d[c];l[l.length]=a.id;f=f||a.w;b=b||a.h;j=j?Math.min(a.x,j):a.x;k=k?Math.min(a.y,k):a.y;i=i?Math.min(a.x,i):a.x;h=h?Math.min(a.y,h):a.y}s(l);a=((i-j)/f+1)*f;c=((h-k)/b+1)*b;a=a*q-a;c=c*q-c;h=j-g.x-a;i=k-g.y-c;for(c=d.length;c--;){a=d[c];if(a.url){b=a.image;m=(a.x-j)/a.w;n=(a.y-k)/a.h;f=a.w*q|0;l=a.h*q|0;m=h+m*f;n=i+n*f;if(!b){p[a.id]=
a;b=a.image=new Image;b.id="tile_"+a.id;b.src=a.url;b.onload=function(){var v=this.id.slice(t);p[v]&&e.appendChild(this)};b.style.cssText="-webkit-user-select: none; -webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; position: absolute;"}if(u)b.style["-webkit-transform"]=
"translate3d("+m+"px, "+n+"px, 0px)";else{b.style.left=m+"px";b.style.top=n+"px"}b.style.width=f+"px";b.style.height=l+"px"}}},reset:function(){s()}})});
