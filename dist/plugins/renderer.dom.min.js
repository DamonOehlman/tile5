T5.registerRenderer("dom",function(q,o,x,s){function v(d){var c=d.image=new Image;r[d.id]=d;c.src=d.url;c.onload=function(){f.appendChild(this);d.indom=true};c.style.cssText="-webkit-user-select: none; -webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; position: absolute;";
return c}function t(d,c,a){var b=[];for(var g in d){var e=d[g];if(a?e[a]:!c[g]){if(e.indom){COG.info("attemping to remove tile "+e.id+" from the dom");try{f.removeChild(e.image)}catch(j){COG.warn("could not remove tile "+e.id+" from the DOM")}e.image=null}b[b.length]=g}}for(c=b.length;c--;)delete d[b[c]]}var w=typeof o.style["-webkit-transform"]!="undefined",f=null,r={},p={};f=document.createElement("div");f.id=COG.objId("domImages");f.style.cssText=COG.formatStr("position: absolute; overflow: hidden; width: {0}px; height: {1}px;",
o.offsetWidth,o.offsetHeight);o.insertBefore(f,s.interactTarget);q=COG.extend(s,{preventPartialScale:true,drawTiles:function(d,c){var a,b,g=d.scaleFactor,e,j,k,l,h,m,n,i,u;for(i=c.length;i--;){a=c[i];j=j||a.w;h=h||a.h;k=k?Math.min(a.x,k):a.x;l=l?Math.min(a.y,l):a.y;b=b?Math.max(a.x,b):a.x;e=e?Math.max(a.y,e):a.y}e=k-d.x;j=l-d.y;for(i=c.length;i--;){a=c[i];if(a.url){(b=a.image)||(b=v(a));m=(a.x-k)/a.w;n=(a.y-l)/a.h;h=a.w*g|0;u=a.h*g|0;m=e+m*h;n=j+n*h;if(w)b.style["-webkit-transform"]="translate3d("+
m+"px, "+n+"px, 0px)";else{b.style.left=m+"px";b.style.top=n+"px"}b.style.width=h+"px";b.style.height=u+"px";p[a.id]=a}}},reset:function(){t(r,p={})}});q.bind("predraw",function(){t(r,p);p={}});return q});
