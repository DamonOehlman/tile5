T5.registerRenderer("dom",function(w,p,x,r){function s(d){d=d||[];for(var e=0;e<f.childNodes.length;){var a=f.childNodes[e],b=a.id.slice(t);if(T5.indexOf.call(d,b)<0){if(tile=q[b])tile.image=null;delete q[b];f.removeChild(a)}else e++}}var t=5,u=typeof p.style["-webkit-transform"]!="undefined",f=null,q={};f=document.createElement("div");f.id=COG.objId("domImages");f.style.cssText=COG.formatStr("position: absolute; overflow: hidden; width: {0}px; height: {1}px;",p.offsetWidth,p.offsetHeight);p.insertBefore(f,
r.interactTarget);return COG.extend(r,{preventPartialScale:true,drawTiles:function(d,e){var a,b,h=d.scaleFactor,i,j,k,l,g,c;a=a=0;var n,o,m;m=[];for(c=e.length;c--;){a=e[c];m[m.length]=a.id;g=g||a.w;i=i||a.h;k=k?Math.min(a.x,k):a.x;l=l?Math.min(a.y,l):a.y;j=j?Math.max(a.x,j):a.x;b=b?Math.max(a.y,b):a.y}s(m);a=((j-k)/g+1)*g;c=((b-l)/i+1)*i;a=a*h-d.w;c=c*h-d.h;a=a*h-a;a=c*h-c;i=k-d.x;j=l-d.y;for(c=e.length;c--;){a=e[c];if(a.url){b=a.image;n=(a.x-k)/a.w;o=(a.y-l)/a.h;g=a.w*h|0;m=a.h*h|0;n=i+n*g;o=j+
o*g;if(!b){q[a.id]=a;b=a.image=new Image;b.id="tile_"+a.id;b.src=a.url;b.onload=function(){var v=this.id.slice(t);q[v]&&f.appendChild(this)};b.style.cssText="-webkit-user-select: none; -webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; position: absolute;"}if(u)b.style["-webkit-transform"]=
"translate3d("+n+"px, "+o+"px, 0px)";else{b.style.left=n+"px";b.style.top=o+"px"}b.style.width=g+"px";b.style.height=m+"px"}}},reset:function(){s()}})});
