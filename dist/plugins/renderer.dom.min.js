T5.registerRenderer("dom",function(k,g,x,u){function v(b){var d=b.image=new Image;r[b.id]=b;d.src=b.url;d.onload=function(){if(l[b.id]){f.appendChild(this);b.indom=true}else b.image=null};d.style.cssText="-webkit-user-select: none; -webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; position: absolute;";
return d}function s(b,d,a){var c=[];for(var h in b){var e=b[h];if(a?e[a]:!d[h]){if(e.indom){COG.info("attemping to remove tile "+e.id+" from the dom");try{f.removeChild(e.image)}catch(m){COG.warn("could not remove tile "+e.id+" from the DOM")}e.image=null}c[c.length]=h}}for(d=c.length;d--;)delete b[c[d]]}var w=typeof g.style["-webkit-transform"]!="undefined",f=null,r={},l={};f=document.createElement("div");f.id=COG.objId("domImages");f.style.cssText=COG.formatStr("position: absolute; overflow: hidden; width: {0}px; height: {1}px;",
g.offsetWidth,g.offsetHeight);g.childNodes.length>0?g.insertBefore(f,g.childNodes[0]):g.appendChild(f);k=COG.extend(u,{preventPartialScale:true,drawTiles:function(b,d){var a,c,h=b.scaleFactor,e,m,n,o,i,p,q,j,t;for(j=d.length;j--;){a=d[j];m=m||a.w;i=i||a.h;n=n?Math.min(a.x,n):a.x;o=o?Math.min(a.y,o):a.y;c=c?Math.max(a.x,c):a.x;e=e?Math.max(a.y,e):a.y}e=n-b.x;m=o-b.y;for(j=d.length;j--;){a=d[j];if(a.url){(c=a.image)||(c=v(a));p=(a.x-n)/a.w;q=(a.y-o)/a.h;i=a.w*h|0;t=a.h*h|0;p=e+p*i;q=m+q*i;if(w)c.style["-webkit-transform"]=
"translate3d("+p+"px, "+q+"px, 0px)";else{c.style.left=p+"px";c.style.top=q+"px"}c.style.width=i+"px";c.style.height=t+"px";l[a.id]=a}}}});k.bind("predraw",function(){s(r,l);l={}});k.bind("detach",function(){g.removeChild(f)});k.bind("reset",function(){for(s(r,l={});f.childNodes.length>0;)f.removeChild(f.childNodes[0])});return k});
