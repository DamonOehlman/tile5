T5.registerRenderer("zoombar",function(g,c,a,r){function k(h){if(h!==i){i=h;d=j-(e+i/l*(j-e)|0);if(s)f.style[n]="translate3d(0px, "+(d-e)+"px, 0px)";else f.style.margin=d+"px 0 0 0";clearTimeout(o);o=setTimeout(function(){g.setZoomLevel(i)},500)}}a=COG.extend({width:24,height:200,images:"/img/zoom.png",margin:10,thumbHeight:16},a.zoombar);var n="-webkit-transform",m,s=typeof c.style[n]!="undefined",f,p=a.thumbHeight,e=a.margin,j=a.height-p-a.margin,d=e,i=-1,t=g.minZoom(),l=g.maxZoom()-t,b,o=0;b=document.createElement("div");
b.className="t5-zoombar";b.style.cssText=COG.formatStr("position: absolute; background: {3}; z-index: 50; overflow: hidden; width: {0}px; height: {1}px; margin: {2};",a.width,a.height,COG.formatStr("{0} {1} {2} {3}",a.margin+"px",0,"0",c.offsetWidth-a.width-a.margin+"px"),COG.formatStr("url({0});",a.images));c.childNodes[0]?c.insertBefore(b,c.childNodes[0]):c.appendChild(b);f=document.createElement("div");f.className="t5-zoombar-thumb";f.style.cssText=COG.formatStr("position: absolute; background: {0}; z-index: 51; width: {1}px; height: {2}px; margin-top: {3}px;",
COG.formatStr("url({0}) 0 -{1}px no-repeat",a.images,a.height),a.width,a.thumbHeight,d);b.appendChild(f);m=INTERACT.watch(b,{bindTarget:b});m.bind("pointerMove",function(h,q,u){d=Math.min(Math.max(e,u.y-(p>>1)),j);k(l-(d-e)/j*l|0)});COG.info("creating the zoombar");a=COG.extend(r,{reset:function(){}});a.bind("detach",function(){m.unbind();c.removeChild(b)});g.bind("zoomLevelChange",function(h,q){k(q)});k(g.getZoomLevel());return a});
