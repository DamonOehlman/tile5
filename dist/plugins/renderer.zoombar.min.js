T5.registerRenderer("zoombar",function(d,k,b,o){function v(a,e){var f=p[a]=document.createElement("div");f.className="t5-zoombar-button";f.style.cssText=COG.formatStr("position: absolute; background: {0}; z-index: 51; width: {1}px; height: {2}px; margin-top: {3}px",w(a),b.width,b.buttonHeight,e||0);c.appendChild(f)}function w(a,e){return"url("+b.images+") 0 -"+(x+l*3+(a||0)*q*3+(e||0)*q)+"px"}function y(a){return"url("+b.images+") 0 -"+(x+(a||0)*l)+"px"}function C(a){s(a.target,z)}function D(a,e,
f){h=Math.min(Math.max(m,f.y-(l>>1)),r);t(u-(h-m)/r*u|0)}function E(a){(a=F[s(a.target,z)])&&a()}function G(a){s(a.target,H)}function s(a,e){var f;if(a===g){g.style.background=y(e);f="thumb"}else for(var i=0;i<p.length;i++)if(a===p[i]){f="button"+i;p[i].style.background=w(i,e);break}return f}function t(a){if(a!==n){n=a;h=r-n/u*(r-m)|0;if(I)g.style[A]="translate3d(0px, "+(h-m)+"px, 0px)";else g.style.margin=h+"px 0 0 0";COG.info("thumb value = "+n+", pos = "+h);clearTimeout(B);B=setTimeout(function(){d.setZoomLevel(n)},
500)}}b=COG.extend({width:24,height:200,images:"/img/zoom.png",margin:10,thumbHeight:16,buttonHeight:16},b.zoombar);var H=0,z=2,A="-webkit-transform",q=b.buttonHeight,j,I=typeof k.style[A]!="undefined",x=b.height,g,l=b.thumbHeight,m=b.margin+q-(l>>1),r=b.height-q-(l>>1),h=m,n=-1,J=d.minZoom(),u=d.maxZoom()-J+1,p=[],c,B=0,F={button0:function(){d.setZoomLevel(d.getZoomLevel()+1)},button1:function(){d.setZoomLevel(d.getZoomLevel()-1)}};(function(){var a=k.parentNode||k;c=document.createElement("div");
c.className="t5-zoombar";c.style.cssText=COG.formatStr("position: absolute; background: {3}; z-index: 50; overflow: hidden; width: {0}px; height: {1}px; margin: {2};",b.width,b.height,COG.formatStr("{0} {1} {2} {3}",b.margin+"px",0,"0",k.offsetWidth-b.width-b.margin+"px"),"url("+b.images+")");a.childNodes[0]?a.insertBefore(c,a.childNodes[0]):a.appendChild(c);g=document.createElement("div");g.className="t5-zoombar-thumb";g.style.cssText=COG.formatStr("position: absolute; background: {0}; z-index: 51; width: {1}px; height: {2}px; margin-top: {3}px;",
y(),b.width,b.thumbHeight,h);c.appendChild(g);v(0);v(1,b.height-b.buttonHeight);j=INTERACT.watch(c,{bindTarget:c});j.bind("pointerMove",D);j.bind("pointerDown",C);j.bind("pointerUp",G);j.bind("tap",E)})();o=COG.extend(o,{});o.bind("detach",function(){j.unbind();k.removeChild(c)});d.bind("zoomLevelChange",function(a,e){t(e)});t(d.getZoomLevel());return o});
