T5.registerRenderer("zoombar",function(d,v,h,b,n){function w(a,e){var f=o[a]=document.createElement("div");f.className="t5-zoombar-button";f.style.cssText=COG.formatStr("position: absolute; background: {0}; z-index: 51; width: {1}px; height: {2}px; margin-top: {3}px",x(a),b.width,b.buttonHeight,e||0);c.appendChild(f)}function x(a,e){return"url("+b.images+") 0 -"+(y+k*3+(a||0)*p*3+(e||0)*p)+"px"}function z(a){return"url("+b.images+") 0 -"+(y+(a||0)*k)+"px"}function s(a,e){var f;if(a===g){g.style.background=
z(e);f="thumb"}else for(var i=0;i<o.length;i++)if(a===o[i]){f="button"+i;o[i].style.background=x(i,e);break}return f}function t(a){if(a!==q){q=a;l=r-q/u*(r-m)|0;T5.DOM.move(g,0,l-m);clearTimeout(A);A=setTimeout(function(){d.setZoomLevel(q)},500)}}b=COG.extend({width:24,height:200,images:"/img/zoom.png",align:"right",marginTop:10,spacing:10,thumbHeight:16,buttonHeight:16},b.zoombar);var p=b.buttonHeight,j,y=b.height,g,k=b.thumbHeight,m=b.spacing+p-(k>>1),r=b.height-p-(k>>1),l=m,q=-1;v=d.minZoom();
var u=d.maxZoom()-v+1,o=[],c,A=0,B={button0:function(){d.setZoomLevel(d.getZoomLevel()+1)},button1:function(){d.setZoomLevel(d.getZoomLevel()-1)}};c=document.createElement("div");c.className="t5-zoombar";c.style.cssText=COG.formatStr("position: absolute; background: {3}; z-index: 50; overflow: hidden; width: {0}px; height: {1}px; margin: {2};",b.width,b.height,function(){var a=b.spacing;if(b.align==="right")a=h.offsetWidth-b.width-b.spacing;return COG.formatStr("{0}px 0 0 {1}px",b.marginTop,a)}(),
"url("+b.images+")");h.childNodes[0]?h.insertBefore(c,h.childNodes[0]):h.appendChild(c);g=document.createElement("div");g.className="t5-zoombar-thumb";g.style.cssText=COG.formatStr("position: absolute; background: {0}; z-index: 51; width: {1}px; height: {2}px; margin-top: {3}px;",z(),b.width,b.thumbHeight,l);c.appendChild(g);w(0);w(1,b.height-b.buttonHeight);j=INTERACT.watch(c,{bindTarget:c});j.bind("pointerMove",function(a,e,f){l=Math.min(Math.max(m,f.y-(k>>1)),r);t(u-(l-m)/r*u|0)});j.bind("pointerDown",
function(a){s(a.target,2)});j.bind("pointerUp",function(a){s(a.target,0)});j.bind("tap",function(a){(a=B[s(a.target,2)])&&a()});n=COG.extend(n,{});n.bind("detach",function(){j.unbind();h.removeChild(c)});d.bind("zoomLevelChange",function(a,e){t(e)});t(d.getZoomLevel());return n});
